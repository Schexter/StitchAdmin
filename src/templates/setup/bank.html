{% extends "setup/base_setup.html" %}
{% block title %}Bankverbindung{% endblock %}

{% block content %}
<div class="step-indicator">
    <div class="step-number">üè¶</div>
    <h3 class="mt-3">Bankverbindung</h3>
    <p class="text-muted">F√ºr Rechnungen und Zahlungseing√§nge</p>
</div>

<form method="POST">
    <div class="card mb-4">
        <div class="card-body">
            <div class="mb-3">
                <label class="form-label">Bank / Kreditinstitut</label>
                <input type="text" name="bank_name" class="form-control" 
                       value="{{ settings.bank_name or '' }}" placeholder="Sparkasse Musterstadt">
            </div>
            
            <div class="row">
                <div class="col-md-8 mb-3">
                    <label class="form-label fw-bold">IBAN</label>
                    <input type="text" name="iban" class="form-control form-control-lg" 
                           value="{{ settings.iban or '' }}" 
                           placeholder="DE89 3704 0044 0532 0130 00"
                           pattern="[A-Z]{2}[0-9]{2}[A-Z0-9]{4}[0-9]{7}([A-Z0-9]?){0,16}"
                           style="text-transform: uppercase; letter-spacing: 2px;">
                </div>
                <div class="col-md-4 mb-3">
                    <label class="form-label">BIC</label>
                    <input type="text" name="bic" class="form-control form-control-lg" 
                           value="{{ settings.bic or '' }}" 
                           placeholder="COBADEFFXXX"
                           style="text-transform: uppercase;">
                </div>
            </div>
            
            <div class="mb-3">
                <label class="form-label">Kontoinhaber (falls abweichend)</label>
                <input type="text" name="account_holder" class="form-control" 
                       value="{{ settings.account_holder or '' }}" 
                       placeholder="Nur ausf√ºllen wenn abweichend vom Firmennamen">
            </div>
        </div>
    </div>
    
    <div class="card mb-4">
        <div class="card-header bg-light">
            <h5 class="mb-0"><i class="fas fa-clock me-2"></i>Zahlungsbedingungen</h5>
        </div>
        <div class="card-body">
            <div class="row align-items-end">
                <div class="col-md-4 mb-3">
                    <label class="form-label fw-bold">Standard-Zahlungsziel</label>
                    <div class="input-group">
                        <input type="number" name="payment_terms_days" class="form-control form-control-lg" 
                               value="{{ settings.payment_terms_days or 14 }}" min="0" max="90">
                        <span class="input-group-text">Tage</span>
                    </div>
                </div>
                <div class="col-md-8 mb-3">
                    <div class="alert alert-info mb-0">
                        <i class="fas fa-lightbulb me-2"></i>
                        √úbliche Zahlungsziele: <strong>14 Tage</strong> (kurz), <strong>30 Tage</strong> (Standard)
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="alert alert-light">
        <i class="fas fa-info-circle me-2"></i>
        Diese Bankverbindung wird auf allen Rechnungen angezeigt. 
        Sie k√∂nnen sp√§ter weitere Zahlungsbedingungen (Skonto, etc.) in den Einstellungen konfigurieren.
    </div>
    
    <div class="d-flex justify-content-between mt-4">
        <a href="{{ url_for('setup.storage') }}" class="btn btn-outline-secondary btn-setup">
            <i class="fas fa-arrow-left me-2"></i> Zur√ºck
        </a>
        <button type="submit" class="btn btn-primary btn-setup">
            Weiter <i class="fas fa-arrow-right ms-2"></i>
        </button>
    </div>
</form>
{% endblock %}
